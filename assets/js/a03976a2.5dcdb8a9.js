"use strict";(self.webpackChunkopenmx=self.webpackChunkopenmx||[]).push([[367],{7964:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>f,contentTitle:()=>r,default:()=>m,frontMatter:()=>s,metadata:()=>d,toc:()=>l});var a=t(7462),i=(t(7294),t(3905)),o=t(814);const s={title:"DFT+U calculation"},r=void 0,d={unversionedId:"dft-u",id:"dft-u",title:"DFT+U calculation",description:"We will calculate the density of states for NiO with and without including",source:"@site/docs/dft-u.mdx",sourceDirName:".",slug:"/dft-u",permalink:"/openmx/dft-u",draft:!1,editUrl:"https://github.com/pranabdas/openmx/blob/main/docs/dft-u.mdx",tags:[],version:"current",frontMatter:{title:"DFT+U calculation"},sidebar:"docs",previous:{title:"Diamond bands and DOS",permalink:"/openmx/diamond"},next:{title:"Spin Orbit Coupling",permalink:"/openmx/soc"}},f={},l=[],p={toc:l};function m(n){let{components:e,...s}=n;return(0,i.kt)("wrapper",(0,a.Z)({},p,s,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"We will calculate the density of states for NiO with and without including\nHubbard ",(0,i.kt)("span",{parentName:"p",className:"math math-inline"},(0,i.kt)("span",{parentName:"span",className:"katex"},(0,i.kt)("span",{parentName:"span",className:"katex-mathml"},(0,i.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,i.kt)("semantics",{parentName:"math"},(0,i.kt)("mrow",{parentName:"semantics"},(0,i.kt)("mi",{parentName:"mrow"},"U")),(0,i.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"U")))),(0,i.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,i.kt)("span",{parentName:"span",className:"base"},(0,i.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6833em"}}),(0,i.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.10903em"}},"U"))))),". We will start from the example input file for NiO (check work\ndirectory under OpenMX installation)."),(0,i.kt)(o.Z,{language:"fortran",title:"src/NiO/NiO.in",showLineNumbers:!0,mdxType:"CodeBlock"},"#      File Name\n#\n\nSystem.CurrrentDirectory ./    # default=./\nSystem.Name              nio\nlevel.of.stdout          1    # default=1 (1-3)\nlevel.of.fileout         1    # default=1 (1-3)\nDATA.PATH                /home/svu/slspkd/openmx3.9/DFT_DATA19\n\n\n# Definition of Atomic Species\n#\n\nSpecies.Number       2\n<Definition.of.Atomic.Species\n Ni  Ni6.0S-s2p2d2f1     Ni_CA19S\n O   O5.0-s2p2d1         O_CA19\nDefinition.of.Atomic.Species>\n\n<Hubbard.U.values                 #  eV\n Ni  1s 0.0 2s 0.0 1p 0.0 2p 0.0 1d 5.0 2d 0.0 1f 0.0\n O   1s 0.0 2s 0.0 1p 0.0 2p 0.0 1d 0.0\nHubbard.U.values>\n\n<Hund.J.values                 #  eV\n Ni  1s 0.0 2s 0.0 1p 0.0 2p 0.0 1d 0.5 2d 0.0 1f 0.0\n O   1s 0.0 2s 0.0 1p 0.0 2p 0.0 1d 0.0\nHund.J.values>\n\n\n# Atoms\n#\n\nAtoms.Number        4\nAtoms.SpeciesAndCoordinates.Unit   AU # Ang|AU\n<Atoms.SpeciesAndCoordinates\n 1  Ni   0.0       0.0       0.0        9.5  6.5 off\n 2  Ni   3.94955   3.94955   0.0        6.5  9.5 off\n 3   O   3.94955   0.0       0.0        3.0  3.0 off\n 4   O   3.94955   3.94955   3.94955    3.0  3.0 off\nAtoms.SpeciesAndCoordinates>\nAtoms.UnitVectors.Unit            AU  #  Ang|AU\n<Atoms.UnitVectors\n 7.89910   3.94955   3.94955\n 3.94955   7.89910   3.94955\n 3.94955   3.94955   7.89910\nAtoms.UnitVectors>\n\n\n# SCF or Electronic System\n#\n\nscf.XcType                 LSDA-CA     # LDA|LSDA-CA|GGA-PBE\n\n# DFT+U part #\nscf.Hubbard.U              On          # On|Off, default=off\nscf.Hubbard.Occupation     dual        # onsite|full|dual, default=dual\nscf.DFTU.Type\t\t   2           # 1:Simplified(Dudarev)|2:General, default=1\nscf.dc.Type                sFLL\t       # sFLL|sAMF|cFLL|cAMF, default=sFLL\nscf.Slater.Ratio           0.625       # default=0.625\nscf.Yukawa\t\t   off         # default=off\nscf.SpinPolarization       On          # On|Off\nscf.ElectronicTemperature  300.0       # default=300 (K)\nscf.energycutoff           150.0       # default=150 (Ry)\nscf.maxIter                200         # default=40\nscf.EigenvalueSolver       band        # Recursion|Cluster|Band\nscf.Kgrid                 6 6 6        # means 4x4x4\nscf.Mixing.Type           rmm-diis     # Simple|Rmm-Diis|Gr-Pulay\nscf.Init.Mixing.Weight     0.20        # default=0.30\nscf.Min.Mixing.Weight      0.01       # default=0.001\nscf.Max.Mixing.Weight      0.30        # default=0.40\nscf.Kerker.factor          1.00        # default=1.00\nscf.Mixing.History          5          # default=5\nscf.Mixing.StartPulay       6         # default=6\nscf.criterion             1.0e-7       # default=1.0e-6 (Hartree)\n\n\n# MD or Geometry Optimization\n#\n\nMD.Type                     nomd       # Nomd|Opt|DIIS|NVE|NVT_VS|NVT_NH\nMD.maxIter                   1         # default=1\nMD.TimeStep                 0.05       # default=0.5 (fs)\nMD.Opt.criterion          1.0e-4       # default=1.0e-4 (Hartree/bohr)\n\n\n# Band dispersion\n#\n\nVoronoi.Charge\t\t     on\n\nBand.dispersion              off        # on|off, default=off\n# if <Band.KPath.UnitCell does not exist,\n#     the reciprical lattice vector is employed.\nBand.Nkpath                1\n<Band.kpath\n  25  0.0 0.0 0.5   0.0 0.5 0.5   Z K\nBand.kpath>\n\n\n# MO output\n#\n\nMO.fileout                  off        # on|off\nnum.HOMOs                    1         # default=1\nnum.LUMOs                    1         # default=1\nMO.Nkpoint                   1         # default=1\n<MO.kpoint\n 0.0  0.0  0.0\nMO.kpoint>\n\n\n# DOS and LDOS\n#\n\nDos.fileout                 on         # on|off , default=off\nDos.Erange              -10.0  10.0    # default = -20 20\nDos.Kgrid                 9 9 9     # default = Kgrid1 Kgrid2 Kgrid3\n\n\n# output Hamiltonian and overlap\n#\n\nHS.fileout                   off     # on|off, default=off\n"),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"If the initial spin configuration is unpolarized for LDA+U calculations, it is\nrequired to provide the switch for enhancement of orbital polarization in the\nLDA+U method in the last column of ",(0,i.kt)("inlineCode",{parentName:"p"},"Atoms.SpeciesAndCoordinates"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"on")," means\nthat the enhancement is made, ",(0,i.kt)("inlineCode",{parentName:"p"},"off")," means no enhancement.")),(0,i.kt)("p",null,"Here we compare the density of states with and without considering electronic\ncorrelation."),(0,i.kt)("picture",null,(0,i.kt)("source",{type:"image/webp",srcSet:t(4925).Z}),(0,i.kt)("img",{src:t(1790).Z,alt:"nio-dos"})),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"If you have difficulty with SCF convergence, you might try"),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre"},"scf.Mixing.Type Rmm-Diish\n")),(0,i.kt)("p",{parentName:"admonition"},"which is suitable for the plus U method and the constraint schemes. Find more\ndetails ",(0,i.kt)("a",{parentName:"p",href:"http://www.openmx-square.org/openmx_man3.9/node40.html"},"here"),".")))}m.isMDXComponent=!0},1790:(n,e,t)=>{t.d(e,{Z:()=>a});const a=t.p+"assets/images/nio-dos-bec0a409d094a9549ab5dbc5ca71d3a0.png"},4925:(n,e,t)=>{t.d(e,{Z:()=>a});const a=t.p+"assets/images/nio-dos-d49e3206cdc18fd8f116296662fd5f15.webp"}}]);